{% if display.nat.list() > 0 %}
{%  set cpg, rng, pgs = nav.pages(display.nat) %}
<table width="100%"> 
    <thead>
	
        <tr>
	    <th>Date</th>
            <th>Reporter</th>
	    <th>Direction</th>
            <th>Message</th>
        </tr>
    </thead>
    <tbody>
    	{% for msg in display.nat[rng[0]:rng[1]] %}
            <tr>
            	<td>{{msg.date}}</td>
                <td>{{display.conn.identity}}</td>
		<td>{{msg.direction}}</td>
                <td>{{msg.text}}</td>
		
            </tr>
        {% endfor %}
    </tbody>
    
</table>

{% if display.nat.count() > 100 %}
<div class="paginant">
  <div class="navigant">
    <ul>
    <li><a href="./{{ nav.link(ref, page = cpg - 1 )  }}">&#171;</a></li>
     {% if cpg + 1 > 3 %}
    <li><a href="./{{ nav.link(ref, page = 0 )  }}">1&#133;</a></li>
    {% endif %}
    {% if cpg > 1 %}
    <li><a href="./{{ nav.link(ref, page = cpg - 2 )  }}">{{ cpg - 1  }}</a></li>
    {% endif %}
    {% if cpg > 0 %}
    <li><a href="./{{ nav.link(ref, page = cpg - 1 )  }}">{{ cpg  }}</a></li>
    {% endif %}
    <li>{{ cpg + 1 }}</li>
    {% if pgs|length >= cpg + 2 %}
    <li><a href="./{{ nav.link(ref, page = cpg + 1)  }}">{{ cpg + 2 }}</a></li>
    {% endif %}
    {% if pgs|length >= cpg + 3 %}
    <li><a href="./{{ nav.link(ref, page = cpg + 2)  }}">{{ cpg + 3 }}</a></li>
    {% endif %}
    {% if pgs|length >= cpg + 4 %}
    <li><a href="./{{ nav.link(ref, page = pgs|length  - 1)  }}"> &#133; {{ pgs|length }}</a></li>
    {% endif %}
   <li><a href="./{{ nav.link(ref, page = cpg + 1)  }}"> &#187;</a></li>
    {% endif %}
    
    
    
    </ul>
  </div>
</div>
{% endif %}
